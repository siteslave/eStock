extends ../layouts/Main

block scripts
    script(src="OrdersController.js")
    script(src="OrdersService.js")

block content
    div(ng-controller="OrdersController")
        lx-tabs(layout="inline", links-tc="light", links-bgc="teal-500", indicator="yellow-500", no-divider="true", z-depth="1")
            lx-tab(heading="รายการเบิกเวชภัณฑ์")
                .data-table-container
                    table.data-table.data-table--has-secondary
                        thead
                            tr
                                th วันที่
                                th เลขที่เอกสาร
                                th เบิกจาก
                                th ผู้เบิก
                                th
                        tbody
                            tr.data-table__clickable-row
                                td
                                td
                                td
                                td
                                td
                                    lx-dropdown(position="right", from-top)
                                        button(lx-ripple, lx-dropdown-toggle).btn.btn--l.btn--black.btn--icon
                                            i.mdi.mdi--more-vert

                                        lx-dropdown-menu
                                            ul
                                                li
                                                    a.dropdown-link แก้ไข
                                                li
                                                    a.dropdown-link ลบรายการ

                .grid
                    .grid__col11
                        | &nbsp;
                    .grid__col1
                        br
                        button(lx-ripple, ng-click="showNewOrder()").btn.btn--l.btn--red.btn--fab
                            i.mdi.mdi--add

            lx-tab(heading="ตรวจสอบยอดคงเหลือ (Online)")
                | ssssss

            lx-tab(heading="ตรวจสอบสถานะเบิก (Online)")
                | ดหกดหกดหดกหด


        lx-dialog#mdlNewOrder.dialog.dialog--l(onclose="closeingNewOrder()")
            .dialog__header
                .toolbar.bgc-teal-500
                    span.toolbar__label.tc-white.fs-title
                        | บันทึกเบิกเวชภัณฑ์

                    .toolbar__right
                        button.btn.btn--l.btn--white.btn--icon(lx-ripple, lx-dialog-close)
                            i.mdi.mdi--clear
            .dialog__content
                .card
                    .card__content
                        span.fs-title
                            i.icon.icon--s.icon--grey.icon--flat.mdi.mdi--add-shopping-cart
                            | &nbsp;รายละเอียดการเบิกเวชภัณฑ์

                        .grid
                            .grid__col3
                                lx-date-picker(label="วันที่เบิก", ng-model="orderDate")
                            .grid__col3
                                lx-text-field(label="เลขที่เบิก")
                                    input(type="text", ng-model="orderCode")

                            .grid__col6
                                lx-select(ng-model="selects.selectedStaff", placeholder="เลือกเจ้าหน้าที่เบิก", choices="staff", floating-label)
                                    lx-select-selected
                                        | {{ $selected.fullname }}
                                    lx-select-choices
                                        | {{ $choice.fullname}}
                        .grid
                            .grid__col11
                                .fs-title
                                    i.icon.icon--grey.icon--flat.icon--s.mdi.mdi--desktop-windows
                                    | &nbsp;รายการเบิก
                            .grid__col1(ng-hide="showAddItemForm")

                                button.btn.btn--m.btn--green.btn--fab(lx-ripple, ng-click="showAddItem()")
                                        i.mdi.mdi--add
                        .grid(ng-show="showAddItemForm")
                            .grid__col8
                                lx-select(ng-model="selects.selectedStaff", placeholder="เลือกรายการเวชภัณฑ์", choices="staff", floating-label)
                                    lx-select-selected
                                        | {{ $selected.fullname }}
                                    lx-select-choices
                                        | {{ $choice.fullname}}
                            .grid__col2
                                lx-text-field(label="จำนวนเบิก", error="!checkNumber(newProductQty)", valid="checkNumber(newProductQty)")
                                    input(type="number", ng-model="newProductQty")
                                ul(ng-if="!checkNumber(newProductQty)").form-error
                                    li กรุณาระบุจำนวนตัวเลข และ ต้องมากกว่า 0
                            .grid__col2
                                br
                                br
                                button.btn.btn--m.btn--teal.btn--raised(lx-ripple) Add
                                    //- i.mdi.mdi--add-circle
                                | &nbsp;
                                button.btn.btn--m.btn--grey.btn--raised(lx-ripple, ng-click="clearAddItemForm()") Del
                                    //- i.mdi.mdi--remove-circle
                        .grid
                            .grid__col12
                                .data-table-container
                                    table.data-table.data-table--has-secondary
                                        thead
                                            tr
                                                th #
                                                th รหัส
                                                th รายการ
                                                th หน่วย
                                                th จำนวน
                                                th @
                                                th เป็นเงิน
                                                th
                                        tbody
                                            tr.data-table__clickable-row
                                                td 1
                                                td
                                                    span 00001
                                                td
                                                    span Paracetamal 500 mg
                                                td
                                                    span tabs
                                                td
                                                    span 1,000
                                                td
                                                    span 0.5
                                                td
                                                    span 500
                                                td
                                                    lx-dropdown(position="right", from-top)
                                                        button.btn.btn--l.btn--teal.btn--icon(lx-ripple, lx-dropdown-toggle)
                                                            i.mdi.mdi--more-vert
                                                        lx-dropdown-menu
                                                            ul
                                                                li
                                                                    a.dropdown-link
                                                                        i.mdi.mdi--edit
                                                                        | &nbsp;Edit
                                                                li
                                                                    a.dropdown-link
                                                                        i.mdi.mdi--cancel
                                                                        | &nbsp;Remove
                                            tr.data-table__clickable-row
                                                td 1
                                                td
                                                    span 00001
                                                td
                                                    span Paracetamal 500 mg
                                                td
                                                    span tabs
                                                td
                                                    span 1,000
                                                td
                                                    span 0.5
                                                td
                                                    span 500
                                                td
                                                    lx-dropdown(position="right", from-top)
                                                        button.btn.btn--l.btn--teal.btn--icon(lx-ripple, lx-dropdown-toggle)
                                                            i.mdi.mdi--more-vert
                                                        lx-dropdown-menu
                                                            ul
                                                                li
                                                                    a.dropdown-link
                                                                        i.mdi.mdi--edit
                                                                        | &nbsp;Edit
                                                                li
                                                                    a.dropdown-link
                                                                        i.mdi.mdi--cancel
                                                                        | &nbsp;Remove

            .dialog__actions
                button.btn.btn--m.btn--blue.btn--raised(lx-ripple) Save
                | &nbsp;
                button.btn.btn--m.btn--red.btn--raised(lx-ripple, lx-dialog-close) Close
